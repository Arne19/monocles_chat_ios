project 'Monal.xcodeproj'
source 'https://cdn.cocoapods.org/'
 
# Uncomment the next line to define a global platform for your project
platform :ios, '12.0'

# ignore all warnings from all pods
inhibit_all_warnings!

target 'jrtplib-static' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  use_frameworks!
end


target 'shareSheet' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  use_frameworks!
  inhibit_all_warnings!
  pod 'CocoaLumberjack'
end

target 'NotificaionService' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  use_frameworks!
  inhibit_all_warnings!
  pod 'CocoaLumberjack'
  pod 'SignalProtocolObjC'
  pod 'SignalProtocolC'
end

target 'Monal' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  use_frameworks!
  inhibit_all_warnings!
  pod 'MBProgressHUD', '~> 1.2.0'
  pod 'IDMPhotoBrowser'
  pod 'SDWebImage', '~> 5.9.5'
  pod 'DZNEmptyDataSet'
  pod 'EAIntroView'
  pod 'TOCropViewController'
  pod 'NotificationBannerSwift', '~> 3.0.2'

  target 'Monal Tests' do
    inherit! :search_paths
    # Pods for testing
  end
end

target 'monalxmpp' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  use_frameworks!
  inhibit_all_warnings!
  pod 'SAMKeychain'
  pod 'TPCircularBuffer'
  pod 'CocoaLumberjack'
  pod 'SignalProtocolObjC'
  pod 'SignalProtocolC'

  pod 'OpenSSL-Universal', '1.1.17'
end

# see https://stackoverflow.com/a/36547646/3528174
post_install do |installer|
	installer.pods_project.targets.each do |target|
		if target.name == "TPCircularBuffer"
			target.build_configurations.each do |configuration|
				configuration.build_settings['APPLICATION_EXTENSION_API_ONLY'] = 'YES'
			end
		end
	end
end
